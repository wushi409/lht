# 实施计划

- [ ] 1. 搭建项目基础架构
  - 创建 Spring Boot 项目结构
  - 配置 Maven/Gradle 依赖（Spring Boot, MyBatis, MySQL, Redis, JWT, Swagger）
  - 配置 application.yml（数据库连接、Redis、文件上传等）
  - 创建基础包结构（controller, service, mapper, entity, dto, exception, config, util）
  - _需求：所有需求的基础_

- [ ] 1.1 配置测试环境
  - 配置 JUnit 5 和 Mockito
  - 配置 jqwik 属性测试库
  - 配置 TestContainers 用于集成测试
  - 创建测试基类和工具类
  - _需求：测试基础设施_

- [ ] 2. 实现数据模型和数据库层
  - 创建所有实体类（User, Student, Company, Resume, JobPosition, Application, JobFair, Booth, Registration, Interview, Notification, Favorite, Review, Announcement, OperationLog, File）
  - 编写 MyBatis Mapper 接口和 XML 映射文件
  - 创建数据库初始化脚本（schema.sql）
  - 实现基础的 CRUD 操作
  - _需求：19.1, 19.4_

- [ ] 2.1 编写数据模型属性测试
  - **Property 36: 数据库事务一致性**
  - **验证需求：19.3**

- [ ] 2.2 编写数据模型属性测试
  - **Property 37: 外键关系完整性**
  - **验证需求：19.4**

- [ ] 2.3 编写数据模型属性测试
  - **Property 38: 级联删除或阻止**
  - **验证需求：19.5**

- [ ] 3. 实现用户认证与授权模块
  - 实现 JWT Token 生成和验证工具类
  - 配置 Spring Security
  - 实现用户注册接口（学生、企业）
  - 实现用户登录接口
  - 实现密码重置功能
  - 实现基于角色的权限控制（RBAC）
  - _需求：1.1, 1.2, 1.3, 1.4, 9.1, 9.2, 9.5_

- [ ] 3.1 编写认证模块属性测试
  - **Property 1: 学号唯一性约束**
  - **验证需求：1.1, 1.2**

- [ ] 3.2 编写认证模块属性测试
  - **Property 3: 认证凭证验证**
  - **验证需求：1.3**

- [ ] 3.3 编写认证模块属性测试
  - **Property 5: 密码重置往返**
  - **验证需求：1.4**

- [ ] 3.4 编写认证模块属性测试
  - **Property 39: 密码加密存储**
  - **验证需求：9.5**

- [ ] 3.5 编写认证模块属性测试
  - **Property 40: 权限验证**
  - **验证需求：9.2**

- [ ] 4. 实现学生管理模块
  - 实现学生信息查询和更新接口
  - 实现简历创建、编辑、删除接口
  - 实现简历附件上传功能
  - 实现默认简历设置功能
  - 实现企业和岗位收藏功能
  - _需求：1.5, 10.1, 10.2, 10.3, 10.4, 10.5, 12.1, 12.2, 12.3, 12.4_

- [ ] 4.1 编写学生管理模块属性测试
  - **Property 4: 数据更新往返一致性**
  - **验证需求：1.5**

- [ ] 4.2 编写简历管理属性测试
  - **Property 25: 简历删除前置检查**
  - **验证需求：10.5**

- [ ] 4.3 编写简历管理属性测试
  - **Property 26: 默认简历设置**
  - **验证需求：10.4**

- [ ] 4.4 编写收藏功能属性测试
  - **Property 30: 收藏操作往返**
  - **验证需求：12.1, 12.2, 12.3, 12.4**

- [ ] 5. 实现企业管理模块
  - 实现企业入驻申请接口
  - 实现企业信息查询和更新接口
  - 实现企业 LOGO 上传功能
  - 实现企业列表查询（支持筛选）
  - 实现企业详情查询
  - _需求：2.1, 2.2, 5.1, 5.4, 5.5_

- [ ] 5.1 编写企业管理模块属性测试
  - **Property 2: 统一社会信用代码唯一性约束**
  - **验证需求：5.5**

- [ ] 5.2 编写企业管理模块属性测试
  - **Property 16: 企业初始状态正确性**
  - **验证需求：5.1**

- [ ] 5.3 编写企业管理模块属性测试
  - **Property 6: 企业列表过滤正确性**
  - **验证需求：2.1**

- [ ] 5.4 编写企业管理模块属性测试
  - **Property 22: 企业详情字段完整性**
  - **验证需求：2.2**

- [ ] 6. 实现岗位管理模块
  - 实现岗位发布接口（需要企业审核通过）
  - 实现岗位编辑和下架接口
  - 实现岗位列表查询（支持搜索和筛选）
  - 实现岗位详情查询
  - 实现岗位推荐功能（基于简历匹配）
  - _需求：2.3, 2.4, 2.5, 5.3, 6.1, 6.2, 6.3, 15.1, 15.2, 15.3, 15.4_

- [ ] 6.1 编写岗位管理模块属性测试
  - **Property 18: 岗位发布权限控制**
  - **验证需求：5.3**

- [ ] 6.2 编写岗位管理模块属性测试
  - **Property 19: 岗位初始状态正确性**
  - **验证需求：6.1**

- [ ] 6.3 编写岗位管理模块属性测试
  - **Property 20: 岗位编辑不影响投递**
  - **验证需求：6.2**

- [ ] 6.4 编写岗位管理模块属性测试
  - **Property 21: 下架岗位不可见**
  - **验证需求：6.3**

- [ ] 6.5 编写岗位管理模块属性测试
  - **Property 23: 岗位详情字段完整性**
  - **验证需求：2.3**

- [ ] 6.6 编写岗位搜索属性测试
  - **Property 7: 岗位搜索结果相关性**
  - **验证需求：2.5**

- [ ] 6.7 编写岗位筛选属性测试
  - **Property 8: 岗位筛选条件完整匹配**
  - **验证需求：2.4**

- [ ] 7. 实现投递管理模块
  - 实现简历投递接口（防止重复投递）
  - 实现投递记录查询接口（学生端和企业端）
  - 实现投递状态更新接口（企业端）
  - 实现投递撤回接口（学生端）
  - 实现企业查看岗位投递列表
  - _需求：3.1, 3.2, 3.3, 3.4, 3.5, 6.4, 6.5_

- [ ] 7.1 编写投递管理模块属性测试
  - **Property 9: 投递记录唯一性约束**
  - **验证需求：3.4**

- [ ] 7.2 编写投递管理模块属性测试
  - **Property 10: 投递创建往返**
  - **验证需求：3.1, 3.2**

- [ ] 7.3 编写投递管理模块属性测试
  - **Property 11: 投递撤回后可重新申请**
  - **验证需求：3.3**

- [ ] 7.4 编写投递管理模块属性测试
  - **Property 12: 投递状态同步一致性**
  - **验证需求：3.5, 6.5**

- [ ] 8. 实现双选会活动模块
  - 实现双选会创建和管理接口（管理员）
  - 实现双选会列表和详情查询
  - 实现活动报名接口（支持容量限制）
  - 实现签到功能（二维码扫描）
  - 实现展位分配和管理（管理员）
  - _需求：4.1, 4.2, 4.3, 4.4, 4.5, 7.4, 7.5_

- [ ] 8.1 编写双选会模块属性测试
  - **Property 13: 活动报名容量限制**
  - **验证需求：4.5**

- [ ] 8.2 编写双选会模块属性测试
  - **Property 14: 活动报名往返**
  - **验证需求：4.2, 4.4**

- [ ] 8.3 编写双选会模块属性测试
  - **Property 15: 签到状态更新**
  - **验证需求：4.3**

- [ ] 8.4 编写双选会模块属性测试
  - **Property 24: 活动详情字段完整性**
  - **验证需求：4.1**

- [ ] 9. 实现面试管理模块
  - 实现面试安排创建接口（企业端）
  - 实现面试列表和详情查询
  - 实现面试确认和拒绝接口（学生端）
  - 实现面试信息修改接口（企业端）
  - 实现面试评价接口（企业端）
  - _需求：13.1, 13.2, 13.3, 13.4, 13.5_

- [ ] 9.1 编写面试管理模块属性测试
  - **Property 31: 面试创建通知联动**
  - **验证需求：13.2**

- [ ] 9.2 编写面试管理模块属性测试
  - **Property 32: 面试确认状态更新**
  - **验证需求：13.3**

- [ ] 10. 实现消息通知模块
  - 实现站内消息发送功能
  - 实现消息列表查询接口
  - 实现未读消息计数接口
  - 实现消息已读标记接口
  - 实现消息自动触发机制（投递状态更新、企业审核、面试邀请等）
  - _需求：11.1, 11.2, 11.3, 11.4, 11.5_

- [ ] 10.1 编写消息通知模块属性测试
  - **Property 27: 消息通知触发**
  - **验证需求：11.1**

- [ ] 10.2 编写消息通知模块属性测试
  - **Property 28: 未读消息计数准确性**
  - **验证需求：11.3**

- [ ] 10.3 编写消息通知模块属性测试
  - **Property 29: 消息已读状态更新**
  - **验证需求：11.4**

- [ ] 11. 实现评价反馈模块
  - 实现企业评价提交接口（学生端）
  - 实现企业评价列表查询
  - 实现评价管理接口（管理员删除不当评价）
  - 实现企业平均评分计算
  - _需求：14.1, 14.2, 14.3, 14.4, 14.5_

- [ ]* 11.1 编写评价模块属性测试
  - **Property 33: 评价关联正确性**
  - **验证需求：14.2, 14.3**

- [ ] 12. 实现管理员模块
  - 实现企业审核接口（审核通过/拒绝）
  - 实现待审核企业列表查询
  - 实现数据统计接口（企业数量、岗位数量、投递统计等）
  - 实现统计报表导出功能
  - 实现公告发布和管理接口
  - 实现操作日志查询接口
  - _需求：7.1, 7.2, 7.3, 8.1, 8.2, 8.3, 8.4, 8.5, 16.1, 16.2, 16.3, 16.4, 16.5, 17.1, 17.2, 17.3, 17.4, 17.5, 18.1, 18.2, 18.3, 18.4, 18.5_

- [ ] 12.1 编写企业审核属性测试
  - **Property 17: 企业审核状态转换**
  - **验证需求：5.2**

- [ ] 13. 实现文件管理模块
  - 实现文件上传接口（支持类型和大小验证）
  - 实现文件下载接口（权限控制）
  - 实现文件删除功能
  - 实现文件存储管理（本地或 OSS）
  - _需求：20.1, 20.2, 20.3, 20.4, 20.5_

- [ ] 13.1 编写文件管理模块属性测试
  - **Property 34: 文件上传类型和大小验证**
  - **验证需求：20.1**

- [ ] 13.2 编写文件管理模块属性测试
  - **Property 35: 文件存储往返**
  - **验证需求：20.2, 20.3**

- [ ] 14. 实现全局异常处理和日志记录
  - 实现全局异常处理器（@ControllerAdvice）
  - 定义自定义业务异常类
  - 实现统一的错误响应格式
  - 配置日志记录（SLF4J + Logback）
  - 实现操作日志记录切面（AOP）
  - _需求：9.4, 17.1, 17.2, 17.3_

- [ ] 15. 实现安全增强功能
  - 实现接口限流（基于 Redis）
  - 实现参数验证（JSR-303）
  - 实现日志脱敏
  - 实现会话管理（超时、异地登录检测）
  - 配置 CORS 跨域
  - _需求：9.3, 9.4_

- [ ] 16. 配置 Swagger API 文档
  - 配置 Swagger/OpenAPI 3.0
  - 为所有接口添加 API 文档注解
  - 配置 API 分组（学生端、企业端、管理端）
  - 配置 JWT 认证支持
  - _需求：API 文档_

- [ ] 17. 性能优化实现
  - 配置 Redis 缓存（热门岗位、企业详情等）
  - 实现数据库索引优化
  - 配置 HikariCP 连接池
  - 实现分页查询优化
  - 实现异步任务处理（邮件通知、报表生成）
  - _需求：性能优化_

- [ ] 18. 第一次检查点 - 确保所有测试通过
  - 确保所有测试通过，如有问题请询问用户

- [ ] 19. 编写集成测试
  - 编写核心业务流程的端到端集成测试
  - 测试学生注册-投递-面试完整流程
  - 测试企业入驻-发布岗位-管理投递流程
  - 测试管理员审核-统计-报表流程
  - _需求：集成测试_

- [ ] 20. 部署准备
  - 编写 Dockerfile
  - 编写 docker-compose.yml（应用、MySQL、Redis）
  - 配置生产环境配置文件
  - 编写部署文档
  - _需求：部署_

- [ ] 21. 最终检查点 - 确保所有测试通过
  - 确保所有测试通过，如有问题请询问用户

